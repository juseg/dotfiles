# Copyright (c) 2022-2023, Julien Seguinot (juseg.dev)
# GNU General Public License v3.0+ (https://www.gnu.org/licenses/gpl-3.0.txt)
#
# ~/.config/mutt/muttrc - Neomutt configuration file
#
# After:
# - https://blog.flaport.net/configuring-neomutt-for-email.html
# - https://github.com/LukeSmithxyz/mutt-wizard/
# - https://jonathanh.co.uk/blog/mutt-setup/
#
# Requires:
# - isync
# - msmtp
# - neomutt
# - urlscan


# -- Account settings --------------------------------------------------------

# account settings
set from = `cat ~/.config/secrets/juseg.user`
set realname = "Julien Seguinot"
set mbox_type = Maildir
set folder = "~/.local/share/mail/juseg"
set sendmail = "msmtp -a juseg"

# cache settings
set header_cache = "~/.cache/mutt/juseg/headers"
set message_cachedir = "~/.cache/mutt/juseg/bodies"

# mailbox settings
set spoolfile = "+Inbox"
set postponed = "+Drafts"
set record = "+Sent"
set trash = "+Trash"
mailboxes =Inbox =Archive =Drafts =Junk =Sent =Trash


# -- General settings --------------------------------------------------------

# open neovim in zen mode
set editor="nvim +Zen"  # alt set nolinebreak nonumber

# edit headers in editor
set autoedit
set edit_headers

# fix current line color
color indicator brightwhite default

# extract urls (manjaro package urlscan)
macro index,pager \cb "<pipe-message> urlscan<enter>" \
    "call urlscan to extract URLs out of a message"
macro attach,compose \cb "<pipe-entry> urlscan<enter>" \
    "call urlscan to extract URLs out of a message"
